(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4771"],{"4+XQ":function(t,e,o){"use strict";o.r(e);var i=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo-container"},[e("div",{staticClass:"logo-wrapper"},[e("img",{attrs:{src:o("mwjQ"),alt:"logo"}})])])}],n={name:"LogoModify"},s=(o("IbPJ"),o("KHd+")),r=Object(s.a)(n,function(){this.$createElement;this._self._c;return this._m(0)},i,!1,null,"f48c8a7a",null);r.options.__file="LogoModify.vue";var l=r.exports,a=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icon"},[e("img",{attrs:{src:o("l2u3")}})])}],d={name:"LogoForget"},c=(o("XpiA"),Object(s.a)(d,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ok-container"},[this._m(0),this._v(" "),e("div",{staticClass:"body"},[this._v("成功")]),this._v(" "),e("div",{staticClass:"footer"},[this._v("返回\n    "),e("router-link",{staticClass:"back",attrs:{to:"/login"}},[this._v("登录")])],1)])},a,!1,null,"20a2f2c8",null));c.options.__file="OkPanel.vue";var u=c.exports,h=o("ydnR"),p={name:"Modify",components:{LogoModify:l,OkPanel:u},data:function(){return{showResetForm:!1,showOk:!1,labelPosition:"right",mobile:"",verifyCode:"",mobileInputCompleted:!1,codeInputCompleted:!1,pwd1:"",pwd2:"",sendButtonValue:"发送",waitSecond:60,mobileError:!1,verifyCodeError:!1,pwd1Error:!1,pwd2Error:!1,pwd1InputCompleted:!1,pwd2InputCompleted:!1}},computed:{sendButtonClickable:function(){return this.mobileInputCompleted&&!this.mobileError&&60===this.waitSecond},nextButton1Clickable:function(){return this.mobileInputCompleted&&!this.mobileError&&this.codeInputCompleted&&!this.verifyCodeError&&60!==this.waitSecond},nextButton2Clickable:function(){return this.pwd1InputCompleted&&this.pwd2InputCompleted}},methods:{handleMobileFocus:function(){this.mobileError&&(this.mobileError=!1),this.mobileInputCompleted&&(this.mobileInputCompleted=!1)},handleCodeFocus:function(){this.verifyCodeError&&(this.verifyCodeError=!1),this.codeInputCompleted&&(this.codeInputCompleted=!1)},handleMobileBlur:function(){this.mobile&&(/^1[34578]\d{9}$/.test(this.mobile)?this.mobileInputCompleted=!0:this.mobileError=!0)},handleCodeBlur:function(){this.verifyCode&&(/^\d{6}$/.test(this.verifyCode)?this.codeInputCompleted=!0:this.verifyCodeError=!0)},handlePwd1Focus:function(){this.pwd1Error&&(this.pwd1Error=!1),this.pwd1InputCompleted&&(this.pwd1InputCompleted=!1)},handlePwd1Blur:function(){this.pwd1&&(this.checkPwd(this.pwd1)<2?this.pwd1Error=!0:this.pwd1InputCompleted=!0)},handlePwd2Focus:function(){this.pwd2Error&&(this.pwd2Error=!1),this.pwd2InputCompleted&&(this.pwd2InputCompleted=!1)},handlePwd2Blur:function(){this.pwd2&&(this.checkPwd(this.pwd2)<2?this.pwd2Error=!0:this.pwd2InputCompleted=!0)},checkPwd:function(t){if(t.length<8)return 0;var e=0;return/[a-z]+/.test(t)&&e++,/[0-9]+/.test(t)&&e++,/[A-Z]+/.test(t)&&e++,/[^a-zA-Z0-9]+/.test(t)&&e++,e},getVerifyCode:function(){var t=this,e={mobile:this.mobile};this.$store.dispatch("GetVerifyCode",e).then(function(t){}).catch(function(e){e!==h.a&&t.$messageTips({type:"error",message:"获取验证码失败"})}),this.countDown()},countDown:function(){if(this.waitSecond>0){this.waitSecond--,this.sendButtonValue=this.waitSecond;var t=this;setTimeout(function(){t.countDown()},1e3)}else this.waitSecond=60,this.sendButtonValue="重新获取"},handleNextButton1Click:function(){var t=this,e={mobile:this.mobile,verifyCode:this.verifyCode};this.$store.dispatch("ValidateMobileAndCode",e).then(function(e){t.showResetForm=!0}).catch(function(e){e!==h.a&&("cache_code"===e?t.verifyCodeError=!0:t.mobileError=!0)})},handleNextButton2Click:function(){var t=this;if(this.pwd2===this.pwd1){var e={mobile:this.mobile,password:this.pwd1};this.$store.dispatch("ModifyPassword",e).then(function(e){t.showOk=!0}).catch(function(e){e!==h.a&&t.$messageTips({type:"error",message:"修改密码失败"})})}else this.$messageTips({type:"error",message:"两次输入的密码不同"})}}},f=(o("6PAh"),o("CV4D"),Object(s.a)(p,function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("logo-modify"),t._v(" "),o("transition",{attrs:{name:"fade-right",mode:"out-in"}},[t.showResetForm?t.showResetForm&&!t.showOk?o("div",{key:"modifyPassword",staticClass:"container"},[o("div",{staticClass:"form-container"},[o("div",{staticClass:"title reset-title"},[t._v("重置你的密码")]),t._v(" "),o("el-form",{attrs:{"label-position":t.labelPosition,"label-width":"96px"}},[o("el-form-item",{attrs:{label:"输入新密码"}},[o("el-input",{attrs:{type:"password",maxlength:"20"},on:{focus:t.handlePwd1Focus,blur:t.handlePwd1Blur},model:{value:t.pwd1,callback:function(e){t.pwd1="string"==typeof e?e.trim():e},expression:"pwd1"}})],1),t._v(" "),o("div",{class:[t.pwd1Error?"fade-down":"","error-container","pwd-error-container"]},[o("div",{staticClass:"text"},[t._v("密码必须是字母大写，字母小写，数字，特殊字符中任意两种组合，且不能少于8位！")])]),t._v(" "),o("el-form-item",{attrs:{label:"确认新密码"}},[o("el-input",{attrs:{type:"password",maxlength:"20"},on:{focus:t.handlePwd2Focus,blur:t.handlePwd2Blur},model:{value:t.pwd2,callback:function(e){t.pwd2="string"==typeof e?e.trim():e},expression:"pwd2"}})],1),t._v(" "),o("div",{class:[t.pwd2Error?"fade-down":"","error-container","pwd-error-container"]},[o("div",{staticClass:"text"},[t._v("密码必须是字母大写，字母小写，数字，特殊字符中任意两种组合，且不能少于8位！")])])],1)],1),t._v(" "),o("div",{staticClass:"button-container"},[o("button",{class:[t.nextButton2Clickable?"":"disabled","button"],on:{click:function(e){e.preventDefault(),t.nextButton2Clickable&&t.handleNextButton2Click()}}},[t._v("下一步\n        ")])])]):o("ok-panel",{key:"modifyOk"}):o("div",{key:"verifyCode",staticClass:"container"},[o("div",{staticClass:"form-container"},[o("div",{staticClass:"title"},[t._v("忘记密码 ?")]),t._v(" "),o("div",{staticClass:"desc"},[t._v("输入您注册的手机号验证身份")]),t._v(" "),o("el-form",{attrs:{"label-position":t.labelPosition,"label-width":"96px"}},[o("el-form-item",{class:t.mobileError?"error":"",attrs:{label:"手机号"}},[o("el-input",{attrs:{clearable:"",maxlength:"11"},on:{focus:t.handleMobileFocus,blur:t.handleMobileBlur},model:{value:t.mobile,callback:function(e){t.mobile="string"==typeof e?e.trim():e},expression:"mobile"}})],1),t._v(" "),o("div",{class:[t.mobileError?"fade-down":"","error-container"]},[o("div",{staticClass:"text"},[t._v("手机号错误！")])]),t._v(" "),o("el-form-item",{staticClass:"verify-code-item",class:t.verifyCodeError?"error":"",attrs:{label:"验证码"}},[o("el-input",{attrs:{clearable:"",maxlength:"6"},on:{focus:t.handleCodeFocus,blur:t.handleCodeBlur},model:{value:t.verifyCode,callback:function(e){t.verifyCode="string"==typeof e?e.trim():e},expression:"verifyCode"}}),t._v(" "),o("button",{class:[t.sendButtonClickable?"":"disabled","button"],on:{click:function(e){e.preventDefault(),t.sendButtonClickable&&t.getVerifyCode()}}},[t._v(t._s(t.sendButtonValue)+"\n            ")])],1),t._v(" "),o("div",{class:[t.verifyCodeError?"fade-down":"","error-container"]},[o("div",{staticClass:"text"},[t._v("验证码错误！")])])],1)],1),t._v(" "),o("div",{staticClass:"button-container"},[o("button",{class:[t.nextButton1Clickable?"":"disabled","button"],on:{click:function(e){e.preventDefault(),t.nextButton1Clickable&&t.handleNextButton1Click()}}},[t._v("下一步\n        ")])])])],1)],1)},[],!1,null,"22dd4ece",null));f.options.__file="index.vue";e.default=f.exports},"6PAh":function(t,e,o){"use strict";var i=o("JIV8");o.n(i).a},CV4D:function(t,e,o){"use strict";var i=o("gG3P");o.n(i).a},IbPJ:function(t,e,o){"use strict";var i=o("N1Ir");o.n(i).a},JIV8:function(t,e,o){},JSnx:function(t,e,o){},N1Ir:function(t,e,o){},XpiA:function(t,e,o){"use strict";var i=o("JSnx");o.n(i).a},gG3P:function(t,e,o){}}]);