(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-5c65"],{"0HWZ":function(t,e,a){},"0sZz":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAp0lEQVQ4T83SMY7BQRQH4E+sRNhms5zFGSTOolHYOMAuCY2LKJzBaWgUaEg2T0Yik/8InSlnfl/evJlXU171dHSpitQKrokxAv/hlOeq4A19pfAe0xxXwT4+U7CR8Bnr+6qlq0ZmgICrV3p8Y9jBLuul1OM1G4/zjREmT8JfLAJ2E/zJYA8f2GT78acPYWkYZ5hHxTaW2D6Y2/ujuOHwNgCBW0/CIw7/DTIcVwEXaeEAAAAASUVORK5CYII="},"2AZG":function(t,e,a){},"2gFh":function(t,e,a){},"3t+d":function(t,e,a){"use strict";var i=a("fY/l");a.n(i).a},"4gNM":function(t,e,a){"use strict";var i={name:"ButtonLoading"},n=(a("xWzq"),a("KHd+")),s=Object(n.a)(i,function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"loading-wrapper",on:{click:function(t){t.stopPropagation()}}},[e("i",{staticClass:"el-icon-loading"})])},[],!1,null,"bf374100",null);s.options.__file="ButtonLoading.vue";e.a=s.exports},"7SBp":function(t,e,a){},AOaw:function(t,e,a){},AWzB:function(t,e,a){"use strict";var i=a("tBjC");a.n(i).a},B4Hf:function(t,e,a){"use strict";var i={name:"SearchInput",props:{tips:{type:String,default:"Search"}},data:function(){return{searchKey:"",error:!1}},watch:{searchKey:function(t){t||this.$emit("doClear")}},methods:{handleFocus:function(){this.error&&(this.error=!1)},handleSubmit:function(){this.$emit("doSearch",this.searchKey)}}},n=(a("TEvB"),a("KHd+")),s=Object(n.a)(i,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-input",{staticClass:"search-input",attrs:{placeholder:t.tips,clearable:""},on:{focus:t.handleFocus,clear:function(e){t.$emit("doClear")}},nativeOn:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.handleSubmit(e):null}},model:{value:t.searchKey,callback:function(e){t.searchKey="string"==typeof e?e.trim():e},expression:"searchKey"}},[a("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"suffix"},slot:"suffix"})])},[],!1,null,null,null);s.options.__file="SearchInput.vue";e.a=s.exports},BgUM:function(t,e,a){"use strict";var i=a("F+LR");a.n(i).a},"F+LR":function(t,e,a){},F5n6:function(t,e,a){"use strict";var i=function(t,e,a,i){return(t/=i/2)<1?a/2*t*t+e:-a/2*(--t*(t-2)-1)+e},n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)};function s(t,e,a){var s=document.documentElement.scrollTop||document.body.parentNode.scrollTop||document.body.scrollTop,l=t-s,o=0;e=void 0===e?500:e;!function t(){!function(t){document.documentElement.scrollTop=t,document.body.parentNode.scrollTop=t,document.body.scrollTop=t}(i(o+=20,s,l,e)),o<e?n(t):a&&"function"==typeof a&&a()}()}var l={name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:10},pageSizeList:{type:Array,default:function(){return[10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0}},computed:{currentPage:{get:function(){return this.page},set:function(t){this.$emit("update:page",t)}},pageSize:{get:function(){return this.limit},set:function(t){this.$emit("update:limit",t)}}},methods:{handleSizeChange:function(t){this.currentPage<=Math.ceil(this.total/t)?this.$emit("pagination",{page:this.currentPage,limit:t}):this.$emit("pagination",{page:1,limit:t}),this.autoScroll&&s(0,800)},handleCurrentChange:function(t){this.$emit("pagination",{page:t,limit:this.pageSize}),this.autoScroll&&s(0,800)}}},o=(a("fjBa"),a("KHd+")),c=Object(o.a)(l,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pagination-wrapper"},[a("el-pagination",t._b({attrs:{background:t.background,"current-page":t.currentPage,"page-size":t.pageSize,layout:t.layout,"page-sizes":t.pageSizeList,total:t.total},on:{"update:currentPage":function(e){t.currentPage=e},"update:pageSize":function(e){t.pageSize=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},"el-pagination",t.$attrs,!1))],1)},[],!1,null,null,null);c.options.__file="Pagination.vue";e.a=c.exports},GSwp:function(t,e,a){},"J/Ew":function(t,e,a){"use strict";var i=a("0HWZ");a.n(i).a},"MC+4":function(t,e,a){"use strict";var i=a("GSwp");a.n(i).a},Pjfh:function(t,e,a){"use strict";var i=a("df2l");a.n(i).a},PkAd:function(t,e,a){"use strict";var i=a("P2sY"),n=a.n(i),s={created:function(){var t=this;this.$nextTick(function(){t.tableMaxHeight=t.$refs.tmContainer.getBoundingClientRect().height-81-78-60-24}),this.getList()},methods:{sortChange:function(t){var e=t.prop,a=t.order;e&&a&&(n()(this.queryParam,{orderProp:e,order:a}),this.getList())},handleSearch:function(t){this.queryParam.searchKey=t,this.queryParam.page=1,this.getList()},handlePagination:function(t){n()(this.queryParam,t),this.getList(this.queryParam)},handleSearchClear:function(){this.queryParam.searchKey="",this.getList()}}};e.a=s},"SCW/":function(t,e,a){"use strict";var i=a("AOaw");a.n(i).a},TEvB:function(t,e,a){"use strict";var i=a("v/m1");a.n(i).a},VIeR:function(t,e,a){"use strict";var i=a("P2sY"),n=a.n(i),s={name:"TmOperator",directives:{focusBg:{bind:function(t,e){var a=n()({},e.value),i=n()({color:"#009EBB"},a);t.addEventListener("mousedown",function(){return t.style.backgroundColor=i.color,!1},!1),t.addEventListener("mouseup",function(){return t.style.backgroundColor="",!1},!1)}}},props:{buttonMap:{type:Object,required:!0}}},l=(a("J/Ew"),a("KHd+")),o=Object(l.a)(s,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"operate-container"},[a("div",{staticClass:"button-group"},t._l(t.buttonMap,function(e,i){return a("button",{directives:[{name:"focusBg",rawName:"v-focusBg",value:e.disabled?{color:"0000000A"}:"",expression:"item.disabled ? {color: '0000000A'} : ''"}],key:i,staticClass:"button",class:{disabled:e.disabled},on:{click:e.handleClick}},[t._v("\n      "+t._s(e.label)+"\n    ")])})),t._v(" "),t._t("default")],2)},[],!1,null,"063989ae",null);o.options.__file="TmOperator.vue";e.a=o.exports},XUxc:function(t,e,a){"use strict";var i=a("Z18i");a.n(i).a},YjzL:function(t,e,a){"use strict";var i=a("2AZG");a.n(i).a},Z18i:function(t,e,a){},df2l:function(t,e,a){},"fY/l":function(t,e,a){},fjBa:function(t,e,a){"use strict";var i=a("7SBp");a.n(i).a},grZY:function(t,e,a){},n8Oe:function(t,e,a){"use strict";a.r(e);var i=a("rci3"),n=a("VIeR"),s=a("B4Hf"),l=a("F5n6"),o={name:"ConfirmDialog",inject:["beforeClose"],props:{msg:{type:String,required:!0},onCancel:{type:Function,required:!0},onConfirm:{type:Function,required:!0}}},c=(a("olw5"),a("KHd+")),r=Object(c.a)(o,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"confirm-container"},[a("div",{staticClass:"header-container"},[a("div",{staticClass:"title"},[t._v("提示")]),t._v(" "),a("button",{staticClass:"close-button",on:{click:t.onCancel}},[a("i",{staticClass:"icon el-icon-close"})])]),t._v(" "),a("div",{staticClass:"body-container"},[a("i",{staticClass:"icon el-icon-warning"}),t._v(" "),a("span",{staticClass:"msg"},[t._v(t._s(t.msg))])]),t._v(" "),a("div",{staticClass:"footer-wrapper"},[a("button",{staticClass:"button-plain",on:{click:t.onCancel}},[t._v("取消")]),t._v(" "),a("button",{staticClass:"button",on:{click:t.onConfirm}},[t._v("确认")])])])},[],!1,null,"0f95c274",null);r.options.__file="ConfirmDialog.vue";var u=r.exports,d=a("PkAd"),p=a("X4fA"),h=a("4d7F"),g=a.n(h);function f(t){return new g.a(function(t,e){setTimeout(function(){Math.random()>.5?t("OK"):e("Fail")},2e3)})}var m={name:"MgrEdit",inject:["beforeClose"],props:{gateMac:{type:String,required:!0},gateNameOld:{type:String,required:!0}},data:function(){return{gateName:this.gateNameOld}},methods:{handleCancelClick:function(){this.beforeClose()},handleSaveClick:function(){var t=this,e=this.gateName.trim();e?(this.gateMac,new g.a(function(t){setTimeout(function(){t("OK")},200)})).then(function(){t.$messageTips({message:"保存成功"}),t.$emit("saved"),setTimeout(function(){t.beforeClose()},800)}).catch(function(){}):this.$messageTips({type:"error",message:"请输入设备名称"})}}},v=(a("3t+d"),a("YjzL"),Object(c.a)(m,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"edit-container"},[a("div",{staticClass:"edit-wrapper"},[a("div",{staticClass:"edit-row"},[a("div",{staticClass:"label"},[t._v("网关Mac:")]),t._v(" "),a("div",{staticClass:"mac-value"},[a("div",[t._v(t._s(t.gateMac))])])]),t._v(" "),a("div",{staticClass:"edit-row"},[a("div",{staticClass:"label"},[t._v("网关名称:")]),t._v(" "),a("div",{staticClass:"name-value"},[a("el-input",{attrs:{maxlength:"50"},model:{value:t.gateName,callback:function(e){t.gateName=e},expression:"gateName"}})],1)])]),t._v(" "),a("div",{staticClass:"footer-wrapper"},[a("button",{staticClass:"button-plain",on:{click:t.handleCancelClick}},[t._v("取消")]),t._v(" "),a("button",{staticClass:"button",on:{click:t.handleSaveClick}},[t._v("保存")])])])},[],!1,null,"b395c9f4",null));v.options.__file="MgrEdit.vue";var C=v.exports,_={name:"MgrUpgrade",inject:["beforeClose"],components:{ButtonLoading:a("4gNM").a},props:{hasDnc:{type:Boolean,required:!0},hasPlc:{type:Boolean,required:!0}},data:function(){return{dncFile:void 0,dncUpgrading:!1,dncUpgradeFail:!1,dncUpgradeSuccess:!1,dncTips:"未选择任何文件",plcFile:void 0,plcUpgrading:!1,plcUpgradeFail:!1,plcUpgradeSuccess:!1,plcTips:"未选择任何文件"}},computed:{dncFilename:function(){return this.dncFile&&this.dncFile.name},dncUpgradeDisabled:function(){return!this.dncFilename||this.dncUpgrading||this.dncUpgradeFail||this.dncUpgradeSuccess},plcFilename:function(){return this.plcFile&&this.plcFile.name},plcUpgradeDisabled:function(){return!this.plcFilename||this.plcUpgrading||this.plcUpgradeFail||this.plcUpgradeSuccess}},watch:{},created:function(){},methods:{handleDncFileClick:function(){this.$refs.dncFile.value="",this.$refs.dncFile.click()},handleDncFileChange:function(t){t.target.files&&t.target.files.length&&(this.dncFile=t.target.files[0],this.dncTips="")},deleteDncFile:function(){this.resetDncStatus()},dncUpgrade:function(){this.$emit("showConfirm",{type:"dnc"})},doDncUpgrade:function(){var t=this;this.dncUpgrading=!0,this.dncTips="";var e=new FormData;e.append("file",this.dncFile),e.append("gateInfo",""),f().then(function(){t.dncUpgrading=!1,t.dncUpgradeSuccess=!0,t.dncTips="升级成功"}).catch(function(){t.dncUpgrading=!1,t.dncUpgradeFail=!0,t.dncTips="升级失败"})},resetDncStatus:function(){this.dncTips="未选择任何文件",this.dncFile=void 0,this.dncUpgrading=!1,this.dncUpgradeFail=!1,this.dncUpgradeSuccess=!1},handlePlcFileClick:function(){this.$refs.plcFile.value="",this.$refs.plcFile.click()},handlePlcFileChange:function(t){t.target.files&&t.target.files.length&&(this.plcFile=t.target.files[0],this.plcTips="")},deletePlcFile:function(){this.resetPlcStatus()},plcUpgrade:function(){this.$emit("showConfirm",{type:"plc"})},doPlcUpgrade:function(){var t=this;this.plcUpgrading=!0,this.plcTips="";var e=new FormData;e.append("file",this.dncFile),e.append("gateInfo",""),f().then(function(){t.plcUpgrading=!1,t.plcUpgradeSuccess=!0,t.plcTips="升级成功"}).catch(function(){t.plcUpgrading=!1,t.plcUpgradeFail=!0,t.plcTips="升级失败"})},resetPlcStatus:function(){this.plcTips="未选择任何文件",this.plcFile=void 0,this.plcUpgrading=!1,this.plcUpgradeFail=!1,this.plcUpgradeSuccess=!1},doUpgrade:function(t){"dnc"===t?this.doDncUpgrade():this.doPlcUpgrade()},handleComplete:function(){this.beforeClose()}}},b=(a("SCW/"),a("Pjfh"),Object(c.a)(_,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"upgrade-container"},[i("div",{staticClass:"main-container"},[i("div",{staticClass:"file-container",class:{hidden:!t.hasDnc}},[i("span",{staticClass:"title"},[t._v("DNC网关")]),t._v(" "),i("transition-group",{staticClass:"transition-wrapper",attrs:{name:"slide-down",tag:"div"}},[t.dncFilename?i("div",{key:"filename",staticClass:"file-wrapper"},[i("svg-icon",{staticClass:"attach-icon",attrs:{"icon-class":"attach"}}),t._v(" "),i("span",{staticClass:"file-name"},[t._v(t._s(t.dncFilename))]),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:!t.dncUpgrading,expression:"!dncUpgrading"}],staticClass:"delete-file el-icon-close",on:{click:t.deleteDncFile}})],1):i("button",{key:"button",staticClass:"button-plain file-button",on:{click:t.handleDncFileClick}},[i("img",{staticClass:"upload-file-img",attrs:{src:a("0sZz"),alt:""}}),t._v("选择文件\n        ")])]),t._v(" "),i("span",{staticClass:"tips",class:{success:t.dncUpgradeSuccess,fail:t.dncUpgradeFail}},[t._v(t._s(t.dncTips))]),t._v(" "),i("button",{staticClass:"button upgrade-button",class:{disabled:t.dncUpgradeDisabled},on:{click:t.dncUpgrade}},[t._v("\n        "+t._s(t.dncUpgrading?"升级中":"升级")+"\n      ")]),t._v(" "),i("input",{ref:"dncFile",staticClass:"original-input",attrs:{type:"file"},on:{change:t.handleDncFileChange}})],1),t._v(" "),i("div",{staticClass:"file-container",class:{hidden:!t.hasPlc}},[i("span",{staticClass:"title"},[t._v("PLC网关")]),t._v(" "),i("transition-group",{staticClass:"transition-wrapper",attrs:{name:"slide-down",tag:"div"}},[t.plcFilename?i("div",{key:"filename",staticClass:"file-wrapper"},[i("svg-icon",{staticClass:"attach-icon",attrs:{"icon-class":"attach"}}),t._v(" "),i("span",{staticClass:"file-name"},[t._v(t._s(t.plcFilename))]),t._v(" "),i("i",{directives:[{name:"show",rawName:"v-show",value:!t.plcUpgrading,expression:"!plcUpgrading"}],staticClass:"delete-file el-icon-close",on:{click:t.deletePlcFile}})],1):i("button",{key:"button",staticClass:"button-plain file-button",on:{click:t.handlePlcFileClick}},[i("img",{staticClass:"upload-file-img",attrs:{src:a("0sZz"),alt:""}}),t._v("选择文件\n        ")])]),t._v(" "),i("span",{staticClass:"tips",class:{success:t.plcUpgradeSuccess,fail:t.plcUpgradeFail}},[t._v(t._s(t.plcTips))]),t._v(" "),i("button",{staticClass:"button upgrade-button",class:{disabled:t.plcUpgradeDisabled},on:{click:t.plcUpgrade}},[t._v("\n        "+t._s(t.plcUpgrading?"升级中":"升级")+"\n      ")]),t._v(" "),i("input",{ref:"plcFile",staticClass:"original-input",attrs:{type:"file"},on:{change:t.handlePlcFileChange}})],1)]),t._v(" "),i("div",{staticClass:"footer-wrapper"},[i("button",{staticClass:"button",on:{click:t.handleComplete}},[t._v("完成")])])])},[],!1,null,"665bbee7",null));b.options.__file="MgrUpgrade.vue";var w=b.exports,S={0:"进行中",1:"已完成",9:"无待下发配置"},y={name:"MgrOperateStatus",inject:["beforeClose"],props:{gateMac:{type:String,required:!0}},data:function(){return{statusList:[]}},created:function(){var t=this;(function(t){var e=[{operateItem:"程序升级",operateTime:"2019-02-02 12:12",status:0},{operateItem:"配置下发",operateTime:"2019-02-02 12:12",status:1},{operateItem:"同步数据",operateTime:"2019-02-02 12:12",status:2},{operateItem:"网关重启",operateTime:"2019-02-02 12:12",status:3},{operateItem:"物解析配置",operateTime:"2019-02-02 12:12",status:4},{operateItem:"程序升级",operateTime:"2019-02-02 12:12",status:0},{operateItem:"配置下发",operateTime:"2019-02-02 12:12",status:1},{operateItem:"同步数据",operateTime:"2019-02-02 12:12",status:2},{operateItem:"网关重启",operateTime:"2019-02-02 12:12",status:3},{operateItem:"物解析配置",operateTime:"2019-02-02 12:12",status:4},{operateItem:"程序升级",operateTime:"2019-02-02 12:12",status:0},{operateItem:"配置下发",operateTime:"2019-02-02 12:12",status:1},{operateItem:"同步数据",operateTime:"2019-02-02 12:12",status:2},{operateItem:"网关重启",operateTime:"2019-02-02 12:12",status:3},{operateItem:"物解析配置",operateTime:"2019-02-02 12:12",status:4}];return new g.a(function(t){setTimeout(function(){t(e)},200)})})(this.gateMac).then(function(e){t.statusList=e}).catch(function(){})},methods:{gatStatus:function(t){return S[t]},handleComplete:function(){this.beforeClose()}}},A=(a("MC+4"),Object(c.a)(y,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"status-container"},[a("div",{staticClass:"status-wrapper"},[t._m(0),t._v(" "),a("div",{staticClass:"status-value-wrapper modify-scroll-bar"},t._l(t.statusList,function(e,i){return a("div",{key:i,staticClass:"status-row"},[a("div",{staticClass:"status-value item"},[t._v(t._s(e.operateItem))]),t._v(" "),a("div",{staticClass:"status-value time"},[t._v(t._s(e.operateTime))]),t._v(" "),a("div",{staticClass:"status-value status"},[t._v(t._s(t.gatStatus(e.status)))])])}))]),t._v(" "),a("div",{staticClass:"footer-wrapper"},[a("button",{staticClass:"button",on:{click:t.handleComplete}},[t._v("完成")])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"status-row"},[e("div",{staticClass:"status-title item"},[this._v("操作项")]),this._v(" "),e("div",{staticClass:"status-title time"},[this._v("操作时间")]),this._v(" "),e("div",{staticClass:"status-title status"},[this._v("操作状态")])])}],!1,null,"176ec364",null));A.options.__file="MgrOperateStatus.vue";var k=A.exports,T={0:"未激活",1:"已启用",9:"已禁用"},U={name:"GatewayManage",components:{TmTitle:i.a,TmOperator:n.a,SearchInput:s.a,AppPagination:l.a,ConfirmDialog:u,MgrEdit:C,MgrUpgrade:w,MgrOperateStatus:k},mixins:[d.a],provide:function(){return{beforeClose:this.handleDialogClose}},data:function(){return{pageTitle:"网关列表",buttonMap:{upgrade:{label:"程序升级",disabled:!0,handleClick:this.handleUpgradeClick},dispatch:{label:"配置下发",disabled:!0,handleClick:this.handleDispatchClick},restart:{label:"网关重启",disabled:!0,handleClick:this.handleRestartClick}},gateList:[],tableMaxHeight:200,total:0,listLoading:!1,queryParam:{token:Object(p.a)(),page:1,limit:10,order:"ascending",orderProp:"id",searchKey:""},multipleSelection:[],gateMac:"",gateName:"",upgradeHasDnc:"",upgradeHasPlc:"",upgradeType:"",dialogShow:!1,editShow:!1,operateStatusShow:!1,upgradeShow:!1,confirmShow:!1}},watch:{multipleSelection:function(t){this.buttonMap.upgrade.disabled=0===t.length,this.buttonMap.dispatch.disabled=0===t.length,this.buttonMap.restart.disabled=0===t.length}},methods:{getList:function(){var t=this;this.listLoading=!0,function(t){var e=t.page,a=t.limit,i={items:[{gateName:"James James James James James James James James James James James",gateMac:"AA:AA:AA:AA:AA:AA",serverIP:"192.168.3.176",gateType:"GW_DNC",software_version:"2.3.1.743",status:0},{gateName:"James",gateMac:"AA:AA:AA:AA:AA:AA",serverIP:"192.168.3.176",gateType:"GW_PLC",software_version:"2.3.1.743",status:0},{gateName:"James",gateMac:"AA:AA:AA:AA:AA:AA",serverIP:"192.168.3.176",gateType:"GW_DNC",software_version:"2.3.1.743",status:0}].slice((e-1)*a,e*a),totalCount:3};return new g.a(function(t){setTimeout(function(){t(i)},200)})}(this.queryParam).then(function(e){t.gateList=e.items,t.total=e.totalCount,t.listLoading=!1}).catch(function(t){})},getStatus:function(t){return T[t]},handleSelectionChange:function(t){this.multipleSelection=t},handleGateEdit:function(t){this.gateMac=this.gateList[t].gateMac,this.gateName=this.gateList[t].gateName,this.dialogShow=!0,this.editShow=!0},handleEditSaved:function(){this.getList()},handleGateViewStatus:function(t){this.gateMac=this.gateList[t].gateMac,this.dialogShow=!0,this.operateStatusShow=!0},handleGateDelete:function(){},handleUpgradeClick:function(){this.buttonMap.upgrade.disabled||(this.upgradeHasDnc=this.multipleSelection.some(function(t){return t.gateType.toUpperCase().includes("DNC")}),this.upgradeHasPlc=this.multipleSelection.some(function(t){return t.gateType.toUpperCase().includes("PLC")}),this.dialogShow=!0,this.upgradeShow=!0,this.confirmShow=!1)},handleShowConfirmUpgrade:function(t){this.upgradeShow=!1,this.confirmShow=!0,this.upgradeType=t.type},handleCancelUpgrade:function(){this.upgradeShow=!0,this.confirmShow=!1},handleConfirmUpgrade:function(){this.upgradeShow=!0,this.confirmShow=!1,this.$refs.upgradePanel.doUpgrade(this.upgradeType)},handleDispatchClick:function(){},handleRestartClick:function(){},handleDialogClose:function(){this.dialogShow=!1,this.closePanel()},closePanel:function(){this.editShow=!1,this.operateStatusShow=!1,this.upgradeShow=!1,this.confirmShow=!1}}},F=(a("BgUM"),a("XUxc"),Object(c.a)(U,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"tmContainer",staticStyle:{"min-height":"calc(100vh - 64px)"}},[a("tm-title",{attrs:{title:t.pageTitle}}),t._v(" "),a("tm-operator",{staticClass:"operate-wrapper",attrs:{"button-map":t.buttonMap}},[a("search-input",{attrs:{tips:""},on:{doSearch:t.handleSearch,doClear:t.handleSearchClear}})],1),t._v(" "),a("div",{staticClass:"table-container"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],ref:"infoTable",staticClass:"dac-table",staticStyle:{width:"100%"},attrs:{data:t.gateList,"max-height":t.tableMaxHeight,stripe:"",fit:"",size:"small","highlight-current-row":""},on:{"sort-change":t.sortChange,"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",align:"center",width:"30"}}),t._v(" "),a("el-table-column",{attrs:{label:"编号",width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(e.$index+1)+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"gateName",label:"网关名称",sortable:"custom","min-width":"140"}}),t._v(" "),a("el-table-column",{attrs:{prop:"gateMac",label:"网关MAC",sortable:"custom",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"serverIP",label:"IP地址",sortable:"custom",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"gateType",label:"网关类型",sortable:"custom",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"software_version",label:"版本号",sortable:"custom",width:"120"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",sortable:"custom",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n          "+t._s(t.getStatus(e.row.status))+"\n        ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"更多操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"operate-cell"},[a("svg-icon",{staticClass:"edit-icon",attrs:{"icon-class":"edit",tips:"编辑网关名称"},on:{click:function(a){t.handleGateEdit(e.$index)}}}),t._v(" "),a("svg-icon",{staticClass:"docs-icon",attrs:{"icon-class":"docs",tips:"查看上次操作"},on:{click:function(a){t.handleGateViewStatus(e.$index)}}}),t._v(" "),a("svg-icon",{staticClass:"delete-icon",attrs:{"icon-class":"delete",tips:"删除网关"},on:{click:function(a){t.handleGateDelete(e.row.gateMac)}}})],1)]}}])})],1)],1),t._v(" "),a("div",{staticClass:"footer-container"},[a("app-pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total > 0"}],attrs:{total:t.total,page:t.queryParam.page,limit:t.queryParam.limit},on:{"update:page":function(e){t.$set(t.queryParam,"page",e)},"update:limit":function(e){t.$set(t.queryParam,"limit",e)},pagination:t.handlePagination}})],1),t._v(" "),a("el-dialog",{staticClass:"gate-manage-dialog",class:{"show-confirm":t.confirmShow},attrs:{visible:t.dialogShow,"before-close":t.handleDialogClose,"close-on-click-modal":!1},on:{"update:visible":function(e){t.dialogShow=e}}},[a("div",{staticClass:"gate-dialog-title",attrs:{slot:"title"},slot:"title"},[a("transition-group",{attrs:{name:"slide-left"}},[t.editShow?a("span",{key:"edit",staticClass:"title"},[t._v("编辑网关名称")]):t._e(),t._v(" "),t.operateStatusShow?a("span",{key:"status",staticClass:"title"},[t._v("上次操作状态")]):t._e(),t._v(" "),t.upgradeShow?a("span",{key:"upgrade",staticClass:"title"},[t._v("网关程序升级")]):t._e()])],1),t._v(" "),a("transition-group",{attrs:{name:"slide-left"}},[t.editShow?a("mgr-edit",{key:"edit-panel",attrs:{"gate-mac":t.gateMac,"gate-name-old":t.gateName},on:{saved:t.handleEditSaved}}):t._e(),t._v(" "),t.operateStatusShow?a("mgr-operate-status",{key:"operate-status-panel",attrs:{"gate-mac":t.gateMac}}):t._e(),t._v(" "),a("mgr-upgrade",{directives:[{name:"show",rawName:"v-show",value:t.upgradeShow,expression:"upgradeShow"}],key:"upgrade-panel",ref:"upgradePanel",attrs:{"has-dnc":t.upgradeHasDnc,"has-plc":t.upgradeHasPlc},on:{showConfirm:t.handleShowConfirmUpgrade}}),t._v(" "),a("confirm-dialog",{directives:[{name:"show",rawName:"v-show",value:t.confirmShow,expression:"confirmShow"}],key:"confirm-panel",attrs:{"on-cancel":t.handleCancelUpgrade,"on-confirm":t.handleConfirmUpgrade,msg:"是否确认升级选中DNC网关的网关程序？"}})],1)],1)],1)},[],!1,null,"59c9fa4e",null));F.options.__file="GatewayManage.vue";e.default=F.exports},olw5:function(t,e,a){"use strict";var i=a("2gFh");a.n(i).a},rci3:function(t,e,a){"use strict";var i={name:"TmTitle",props:{title:{type:String,default:""}}},n=(a("AWzB"),a("KHd+")),s=Object(n.a)(i,function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"title-container"},[this._t("default",[this._v(this._s(this.title))])],2)},[],!1,null,"32faa9a8",null);s.options.__file="TmTitle.vue";e.a=s.exports},tBjC:function(t,e,a){},"v/m1":function(t,e,a){},xWzq:function(t,e,a){"use strict";var i=a("grZY");a.n(i).a}}]);